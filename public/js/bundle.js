(()=>{"use strict";const e=function(){const e=document.querySelector(".modal"),t=e.querySelector(".close"),n=document.querySelector(".about-projects").querySelectorAll(".slider"),s=e.querySelectorAll(".slider");let o=document.querySelectorAll(".slider-list")[0].offsetWidth;function i(t,n,c,r=0){let l=t.querySelector(".slider-list"),a=t.querySelector(".slider-track"),d=t.querySelectorAll(".slide"),u=t.querySelectorAll(".slider-button"),v=u[0],m=u[1],y=c?o:window.innerWidth,f=0,p=0,L=0,g=0,h=0,E=0,b=!1,w=!1,S=!0,q=!0,x=0,k=0,A=d.length-1,j=A*y,_=.05*y,T=/([-0-9.]+(?=px))/;const C=function(){return-1!==event.type.search("touch")?event.touches[0]:event},W=function(){0<=r&&A>=r?(q&&(a.style.transition="transform .5s"),a.style.transform=`translate3d(-${r*y}px, 0px, 0px)`):r<0?(r=A,W()):r>A&&(r=0,W()),v.classList.toggle("disabled",0===r),m.classList.toggle("disabled",r===A)};if(!c){const e=function(){let e=C();S&&(q=!0,x=(r+1)*-y,k=(r-1)*-y,f=p=e.clientX,g=e.clientY,a.style.transition="",document.addEventListener("touchmove",n),document.addEventListener("mousemove",n),document.addEventListener("touchend",s),document.addEventListener("mouseup",s),l.classList.remove("grab"),l.classList.add("grabbing"))},n=function(){let e=C(),t=+a.style.transform.match(T)[0];if(L=p-e.clientX,p=e.clientX,h=g-e.clientY,g=e.clientY,!b&&!w){let e=Math.abs(h);e>A||0===L?(w=!0,S=!1):e<A&&(b=!0)}if(b){if(0===r){if(f<p)return void o(t,0);S=!0}if(r===A){if(f>p)return void o(t,j);S=!0}if(f>p&&t<x||f<p&&t>k)return void i();a.style.transform=`translate3d(${t-L}px, 0px, 0px)`}},s=function(){E=f-p,w=!1,b=!1,document.removeEventListener("touchmove",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchend",s),document.removeEventListener("mouseup",s),l.classList.add("grab"),l.classList.remove("grabbing"),S?(Math.abs(E)>_&&(f<p?r--:f>p&&r++),f!==p?(S=!1,W()):S=!0):S=!0},o=function(e,t){e>=t&&e>t&&(a.style.transform=`translate3d(${t}px, 0px, 0px)`),S=!1},i=function(){q=!1,s(),S=!0};a.style.transform="translate3d(0px, 0px, 0px)",l.classList.add("grab"),a.addEventListener("transitionend",(()=>S=!0)),t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)}u.forEach((e=>{e.addEventListener("click",(function(){let e=event.target;if(e.classList.contains("next"))r++;else{if(!e.classList.contains("prev"))return;r--}W()}))})),window.addEventListener("resize",(()=>{y=c?document.querySelectorAll(".content.active")[0].querySelector(".slider-list").offsetWidth:window.innerWidth,j=A*y,_=.05*y,a.style.transform=`translate3d(-${r*y}px, 0px, 0px)`})),c||document.addEventListener("keydown",(function(t){if(e.classList.contains("active"))if("ArrowRight"===t.key)++r<d.length?W():r--;else if("ArrowLeft"===t.key)--r>-1?W():r++;else{if("Escape"!==t.key)return;e.classList.remove("active")}})),t.querySelectorAll(".on").forEach(((t,o)=>{t.onclick=()=>{!function(t){i(s[n],n,!1,t),e.classList.add("active"),e.style.backgroundColor=function(e){return e<2?"rgba(121,212,211,.8)":e>1&&e<4?"rgba(94,190,148,.8)":e>3&&e<6?"rgba(255,209,207,.8)":"rgba(255, 184, 180, .8)"}(n),document.body.style.overflow="hidden",s[n].style.display="flex",s[n].querySelector(".slider-track").style.transform=`translate3d(-${t*window.innerWidth}px, 0px, 0px)`;const o=s[n].querySelectorAll(".slider-button"),c=o[0],l=o[1];c.classList.toggle("disabled",0===r),l.classList.toggle("disabled",r===A)}(o)}}))}t.addEventListener("click",(()=>{e.classList.remove("active"),document.body.style.overflow="auto",s.forEach((e=>{e.style.display="none"}))})),n.forEach(((e,t)=>{i(e,t,!0)}))};window.addEventListener("DOMContentLoaded",(()=>{(function(){const e=document.querySelector(".change");e.addEventListener("click",(()=>{e.classList.toggle("change1"),e.classList.toggle("change2")}))})(),e(),function(){const e=document.querySelector(".open"),t=document.querySelector(".more");e.addEventListener("click",(function(){t.classList.toggle("active"),t.classList.contains("active")?(e.textContent="скрыть",t.style.maxHeight="200px"):(e.textContent="раскрыть",t.style.maxHeight="0")}))}(),function(){const e=document.querySelector(".btn-up");window.addEventListener("scroll",(()=>{window.scrollY>400?e.style.bottom="20px":e.style.bottom="-100px"}),{passive:!0}),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}(),function(){const e=document.querySelector("#contact-form");e.addEventListener("submit",(()=>async function(a){if((a=a||window.event).preventDefault(),""!==e.querySelector('textarea[name="message"]').value.trim()){n.style.display="block",o.style.opacity="0.5",o.style.pointerEvents="none";const a={user_id:i,service_id:c,template_id:r,template_params:{message:e.querySelector('textarea[name="message"]').value},accessToken:l};(await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=UTF-8"}})).ok?(n.style.display="none",s.style.display="block",setTimeout((()=>{s.style.display="none",o.style.opacity="1",o.style.pointerEvents="auto"}),"10000"),e.reset()):(n.style.display="none",t.style.display="block")}}(event)));const t=e.querySelector(".error"),n=e.querySelector(".loading"),s=e.querySelector(".ready"),o=e.querySelector("button"),i="p7ji1V5uJ3GpXfhhr",c="service_bwvhufn",r="template_k3bpgjz",l="uOpqKNdP7xHdjn_4kye8u"}(),function(){const e=document.querySelector(".sidebar"),t=document.querySelector(".burger");function n(){e.classList.contains("active")?(window.addEventListener("wheel",s,{passive:!1}),window.addEventListener("touchmove",s,{passive:!1})):(window.removeEventListener("wheel",s,{passive:!1}),window.removeEventListener("touchmove",s,{passive:!1}))}function s(e){e.preventDefault()}e.querySelectorAll("a").forEach((s=>{s.addEventListener("click",(()=>{e.classList.remove("active"),t.classList.remove("active"),n()}))})),t.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active"),n()})),document.addEventListener("click",(function(s){e.contains(s.target)||t.contains(s.target)||(e.classList.remove("active"),t.classList.remove("active"),n())}))}(),document.querySelectorAll(".project").forEach((e=>{!function(e){const t=e.querySelectorAll(".buttons div"),n=e.querySelectorAll(".content");function s(e=0){t.forEach((e=>{e.classList.remove("active")})),n.forEach((e=>{e.classList.remove("active")})),t[e].classList.add("active"),n[e].classList.add("active")}s(),t.forEach(((e,t)=>{e.addEventListener("click",(()=>{s(t)}))}))}(e)}))}))})();